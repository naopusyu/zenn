---
title: "symfony/consoleã§å°‘ã—ãƒªãƒƒãƒãªãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚‹"
emoji: "ğŸ‘‹"
type: "tech"
topics: [
    "php",
    "symfony"
]
published: false
---

## ã¯ã˜ã‚ã«

æ—¥å¸¸çš„ã«ãƒ„ãƒ¼ãƒ«ã‚’é©å½“ãªPHPãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆtest.phpãªã©ï¼‰ã‚’ä½œã£ã¦æ›¸ã„ã¦ã„ãŸãŒã€å‘³æ°—ãªã„ã®ã§`symfony/console`ã‚’ä½¿ã£ã¦å°‘ã—ãƒªãƒƒãƒãªãƒ„ãƒ¼ãƒ«ã«å¤‰ãˆã¦ã¿ãŸã€‚

## ç’°å¢ƒ

- PHP 8.3.12

## ã‚„ã‚‹ããƒ¼

ã¾ãšã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
composer require symfony/console
```

ã‚¯ãƒ©ã‚¹ã ã‘ä½œã‚‹

ä¸­èº«ã¯å¾Œã‹ã‚‰

```php:SampleCommand.php
<?php

declare(strict_types=1);

use Symfony\Component\Console\Command\Command;

class SampleCommand extends Command
{
}
```

å®Ÿè¡Œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç”¨æ„

```php:console
#!/usr/bin/env php
<?php

declare(strict_types=1);

require_once __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Application;

$application = new Application();
$application->run();
```

ä»Šå›ãã‚‰ã„ã®å†…å®¹ãªã‚‰ã€`SingleCommandApplication`[^1]ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ã¦æ›¸ã„ã¦ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚

[^1]:https://symfony.com/doc/current/components/console/single_command_tool.html

```php:console
<?php

declare(strict_types=1);

require_once __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Input\InputArgument;
use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Output\OutputInterface;
use Symfony\Component\Console\SingleCommandApplication;

(new SingleCommandApplication())
    ->addArgument('text', InputArgument::REQUIRED)
    ->addArgument('sub-text', InputArgument::OPTIONAL, '', 'empty')
    ->setCode(function (InputInterface $input, OutputInterface $output): int {
        $output->writeln('Sample Command!');

        $output->writeln($input->getArgument('text'));

        $output->writeln($input->getArgument('sub-text'));

        return SingleCommandApplication::SUCCESS;
    })
    ->run();
```

## ã¾ã¨ã‚

## å‚è€ƒ

https://zenn.dev/ttskch/articles/ef89d74b9728ad

