---
title: "Makefileã§ã¯ãªãã€Taskfileã‚’ä½¿ã†ã‚“ã ï¼"
emoji: "ğŸŒ¿"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [
  "taskfile"
]
published: false
---

Makefileã¯ä½¿ã‚ãªã„ã€Taskfileã‚’ä½¿ã„ã¾ã™ï¼

https://taskfile.dev/

## Taskfileã‚’ä½¿ã†æº–å‚™

ã¾ãšã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã†ã€‚

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://taskfile.dev/docs/installation)ã«è‰²ã€…ãªæ–¹æ³•ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯Macç’°å¢ƒãªã®ã§Homebrewã‚’ä½¿ã„ã¾ã™ã€‚

```bash
brew install go-task
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€åˆæœŸåŒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```bash
task --init
```

Taskfile.ymlãŒå‡ºæ¥ã‚‹ã®ã§ç¢ºèªã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªå†…å®¹ãŒå‡ºã¦ãã‚‹ã€‚

```yaml
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: '3'

vars:
  GREETING: Hello, world!

tasks:
  default:
    desc: Print a greeting message
    cmds:
      - echo "{{.GREETING}}"
    silent: true
```
  
å®Ÿè¡Œã™ã‚‹ã¨ **Hello, world!** ã¨è¡¨ç¤ºã™ã‚‹ã€‚

```bash
task
Hello, world!
```

ã“ã‚Œã§Taskfileã‚’ä½¿ã†æº–å‚™ã¯ã§ããŸã€‚

## ã‚¿ã‚¹ã‚¯ã®å®šç¾©

ã‚¿ã‚¹ã‚¯ã«å®šç¾©ã™ã‚‹ã®ã¯æ¬¡ã®zenn cliã®ã‚³ãƒãƒ³ãƒ‰ã«ã—ã¾ã™ã€‚
ï¼ˆã©ã†ã—ã¦ã‚‚ã‚³ãƒãƒ³ãƒ‰ã‚’è¦šãˆã‚‰ã‚Œãªã„ã§ã™ğŸ˜­ï¼‰

- è¨˜äº‹ã®æ–°è¦ä½œæˆï¼ˆ`npx zenn new:article`ï¼‰
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆ`npx zenn preview`ï¼‰

ã‚ã¨ã€textlintï¼ˆ`npx textlint`ï¼‰ã‚‚å«ã‚ã¦ãŠãã¾ã™ã€‚

Taskfile.ymlã«æ›¸ãã‚¿ã‚¹ã‚¯ã®å®šç¾©ã¯`tasks`ä»¥ä¸‹ã®ã‚­ãƒ¼ãŒã‚¿ã‚¹ã‚¯åã€ãã®æ¬¡ã®`cmds`ã«å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚

å®Ÿéš›ã«æ›¸ãä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```yaml
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: '3'

silent: true

tasks:
  new:
    cmds:
      - npx zenn new:article --emoji ğŸŒ¿ --published false
    desc: 'æ–°ã—ã„è¨˜äº‹ã‚’è¿½åŠ '

  preview:
    cmds:
      - npx zenn preview
    desc: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼'

  textlint:
    cmds:
      - npx textlint -f pretty-error {{.CLI_ARGS}} || true
    desc: 'textlintã®å®Ÿè¡Œ'
```

è¨˜äº‹ã®æ–°è¦ä½œæˆã§ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§emojiã®æŒ‡å®šã¨ã€éå…¬é–‹ã§ä½œæˆã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

`silent: true`ã¯ã‚³ãƒãƒ³ãƒ‰ã®çµæœã ã‘å‡ºåŠ›ã™ã‚‹è¨­å®šã§ã™ã€‚
`desc`ã¯ã‚¿ã‚¹ã‚¯ã®èª¬æ˜ã§ã™ã€‚

taslã‚³ãƒãƒ³ãƒ‰ã«--listï¼ˆ-lï¼‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã™ã‚‹ã¨ã‚¿ã‚¹ã‚¯ã®ä¸€è¦§ãŒè¡¨ç¤ºã™ã‚‹æ™‚ã®èª¬æ˜ã«ä½¿ã‚ã‚Œã¾ã™ã€‚

```bash
task --list
task: Available tasks for this project:
* new:            æ–°ã—ã„è¨˜äº‹ã‚’è¿½åŠ 
* preview:        ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
* textlint:       textlintã®å®Ÿè¡Œ
```

## ã‚¿ã‚¹ã‚¯ã‚’ä½¿ã†

taskã‚³ãƒãƒ³ãƒ‰ã®å¾Œã«å®šç¾©ã—ãŸã‚¿ã‚¹ã‚¯åã‚’æŒ‡å®šã™ã‚Œã°å®Ÿè¡Œã§ãã¾ã™ã€‚

```bash
task new
created: articles/fda95a19a93757.md
```

emojiã®æŒ‡å®šã€éå…¬é–‹ã§ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚Œã¦ã„ã¾ã™ã­ã€‚

```bash
cat articles/fda95a19a93757.md
---
title: ""
emoji: "ğŸŒ¿"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---
```

textlintã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹æ™‚ã¯å¼•æ•°ã§ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šãŒå¿…è¦ã§ã™ã€‚

```bash
task textlint -- articles/fda95a19a93757.md
```

## ã¾ã¨ã‚

ä»Šå›Taskfileã‚’ä½¿ã„ãŸã„ãŸã‚ã«Zennã®è¨˜äº‹ã‚’æ›¸ãæ™‚ã«å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¿ã‚¹ã‚¯ã«ã—ã¾ã—ãŸã€‚

è¤‡é›‘ãªã“ã¨ã¯ã›ãšã€ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®å¼•æ•°æŒ‡å®šã‚’ç°¡ç•¥åŒ–ã—ãŸãã‚‰ã„ã§ã™ãŒã€ä½¿ã£ã¦ã¿ã‚‹ã¨ã‹ãªã‚Šä¾¿åˆ©ã§ã™ã€‚
